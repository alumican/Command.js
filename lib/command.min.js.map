{"version":3,"sources":["../src/var/CommandState.ts","../src/var/Easing.ts","../src/event/Event.ts","../src/event/EventDispatcher.ts","../src/command/Command.ts","../src/command/CommandList.ts","../src/command/Break.ts","../src/command/Return.ts","../src/command/Log.ts","../src/command/Wait.ts","../src/command/Func.ts","../src/command/Listen.ts","../src/command/Tween.ts","../src/command/Serial.ts","../src/command/Parallel.ts"],"names":["cmd","CommandState","Easing","linear","x","t","b","c","d","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","Math","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","createEaseInElastic","s","p","a","abs","asin","createEaseOutElastic","createEaseInOutElastic","easeInElastic","defaultEaseInElastic","easeOutElastic","defaultEaseOutElastic","easeInOutElastic","defaultEaseInOutElastic","createEaseInBack","createEaseOutBack","createEaseInOutBack","easeInBack","easeOutBack","defaultEaseOutBack","easeInOutBack","defaultEaseInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","defaultEaseInBack","Event","type","target","data","this","prototype","getType","getTarget","getData","setData","COMPLETE","EventDispatcher","listeners","addEventListener","eventType","listener","numListeners","length","i","push","removeEventListener","splice","removeAllEventListener","hasEventListener","dispatchEvent","event","call","Command","_super","executeFunction","interruptFunction","destroyFunction","_this","setExecuteFunction","setInterruptFunction","setDestroyFunction","state","Sleeping","self","parent","__extends","execute","Error","Executing","getExecuteFunction","interrupt","Interrupting","getInterruptFunction","destroy","getDestroyFunction","notifyComplete","implExecuteFunction","command","implInterruptFunction","implDestroyFunction","func","getState","getParent","setParent","getSelf","CommandList","commands","_i","arguments","addCommand","apply","preProcess","getCommands","concat","insertCommand","insertCommandAt","index","Array","addCommandArray","insertCommandArray","insertCommandArrayAt","getLength","numCommands","Func","getCommandByIndex","Break","Return","Log","messages","console","log","slice","getMessages","setMessages","Wait","time","completeHandler","timerId","window","setTimeout","cancel","clearTimeout","getTime","setTime","args","eventDispatcher","getFunction","setFunction","getArguments","setArguments","getEventDispatcher","setEventDispatcher","getEventType","setEventType","Listen","Tween","to","from","duration","easing","onStart","onUpdate","onComplete","intervalHandler","elapsedTime","Date","startTime","progressTime","progressValue","tweenTarget","internalFrom","key","setInterval","updateInterval","clearInterval","timeRatio","value0","setTarget","getDuration","setDuration","getTo","setTo","getFrom","setFrom","getEasing","setEasing","getOnStart","setOnStart","getOnUpdate","setOnUpdate","getOnComplete","setOnComplete","getProgressTime","getProgressValue","getUpdateInterval","setUpdateInterval","milliseconds","Serial","currentCommand","position","next","isPaused","isCompleteOnPaused","implNotifyBreak","implNotifyReturn","getPosition","Parallel","completeCount","command_1","command_2","command_3","getCompleteCount"],"mappings":"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","file":"command.min.js","sourcesContent":["/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport enum CommandState {\n\t\tSleeping     = 0,\n\t\tExecuting    = 1,\n\t\tInterrupting = 2,\n\t}\n}","namespace cmd {\n\n\texport type EasingFunction = (x:number, t:number, b:number, c:number, d:number)=>number;\n\n\texport class Easing {\n\n\t\tpublic static linear(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * t / d + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuad(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * (t /= d) * t + b;\n\t\t}\n\n\t\tpublic static easeOutQuad(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn (-c) * (t /= d) * (t - 2) + b;\n\t\t}\n\n\t\tpublic static easeInOutQuad(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\treturn (-c) / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInCubic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * (t /= d) * t * t + b;\n\t\t}\n\n\t\tpublic static easeOutCubic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t}\n\n\t\tpublic static easeInOutCubic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuart(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t}\n\n\t\tpublic static easeOutQuart(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn (-c) * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t}\n\n\t\tpublic static easeInOutQuart(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\treturn (-c) / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuint(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t}\n\n\t\tpublic static easeOutQuint(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t}\n\n\t\tpublic static easeInOutQuint(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInSine(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn (-c) * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t}\n\n\t\tpublic static easeOutSine(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t}\n\n\t\tpublic static easeInOutSine(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn (-c) / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInExpo(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif (t == 0) return b;\n\t\t\treturn c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t}\n\n\t\tpublic static easeOutExpo(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif (t == d) return b + c;\n\t\t\treturn c * (-Math.pow(2, -10 * t / d) + 1) + b;\n\t\t}\n\n\t\tpublic static easeInOutExpo(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif (t == 0) return b;\n\t\t\tif (t == d) return b + c;\n\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\treturn c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInCirc(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn (-c) * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t}\n\n\t\tpublic static easeOutCirc(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t}\n\n\t\tpublic static easeInOutCirc(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d / 2) < 1) return (-c) / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t}\n\n\n\n\n\n\t\tpublic static createEaseInElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = c;\n\t\t\t\tif (t == 0) return b;\n\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\tif (p == 0) p = d * 0.3;\n\t\t\t\tif (a < Math.abs(c)) {\n\t\t\t\t\ta = c;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t}\n\t\t\t\treturn (-a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p )) + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseOutElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = c;\n\t\t\t\tif (t == 0) return b;\n\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\tif (p == 0) p = d * 0.3;\n\t\t\t\tif (a < Math.abs(c)) {\n\t\t\t\t\ta = c;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t}\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseInOutElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = c;\n\t\t\t\tif (t == 0) return b;\n\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\tif (p == 0) p = d * (0.3 * 1.5);\n\t\t\t\tif (a < Math.abs(c)) {\n\t\t\t\t\ta = c;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t}\n\t\t\t\tif (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInElastic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseInElastic(x, t, b, c, d);\n\t\t}\n\n\t\tpublic static easeOutElastic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseOutElastic(x, t, b, c, d);\n\t\t}\n\n\t\tpublic static easeInOutElastic(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseInOutElastic(x, t, b, c, d);\n\t\t}\n\n\t\tprivate static defaultEaseInElastic:EasingFunction = Easing.createEaseInElastic();\n\t\tprivate static defaultEaseOutElastic:EasingFunction = Easing.createEaseOutElastic();\n\t\tprivate static defaultEaseInOutElastic:EasingFunction = Easing.createEaseInOutElastic();\n\n\n\n\n\n\t\tpublic static createEaseInBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseOutBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseInOutBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (x:number, t:number, b:number, c:number, d:number) {\n\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInBack(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseInElastic(x, t, b, c, d);\n\t\t}\n\n\t\tpublic static easeOutBack(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseOutBack(x, t, b, c, d);\n\t\t}\n\n\t\tpublic static easeInOutBack(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn Easing.defaultEaseInOutBack(x, t, b, c, d);\n\t\t}\n\n\t\tprivate static defaultEaseInBack:EasingFunction = Easing.createEaseInBack();\n\t\tprivate static defaultEaseOutBack:EasingFunction = Easing.createEaseOutBack();\n\t\tprivate static defaultEaseInOutBack:EasingFunction = Easing.createEaseInOutBack();\n\n\n\n\n\n\t\tpublic static easeInBounce(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\treturn c - Easing.easeOutBounce(x, d - t, 0, c, d) + b;\n\t\t}\n\n\t\tpublic static easeOutBounce(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;\n\t\t\t} else {\n\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInOutBounce(x:number, t:number, b:number, c:number, d:number):number {\n\t\t\tif (t < d / 2) return Easing.easeInBounce(x, t * 2, 0, c, d) * 0.5 + b;\n\t\t\treturn Easing.easeOutBounce(x, t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\r\n\r\nnamespace cmd {\r\n\r\n\texport class Event {\r\n\r\n\t\t// --------------------------------------------------\r\n\t\t//\r\n\t\t// EVENT TYPE\r\n\t\t//\r\n\t\t// --------------------------------------------------\r\n\r\n\t\tpublic static COMPLETE: string = \"complete\";\r\n\r\n\r\n\r\n\r\n\r\n\t\t// --------------------------------------------------\r\n\t\t//\r\n\t\t// CONSTRUCTOR\r\n\t\t//\r\n\t\t// --------------------------------------------------\r\n\r\n\t\tconstructor(type:string, target:object, data:any = null) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t// --------------------------------------------------\r\n\t\t//\r\n\t\t// MEMBER\r\n\t\t//\r\n\t\t// --------------------------------------------------\r\n\r\n\t\tpublic getType():string { return this.type; }\r\n\t\tprivate type:string;\r\n\r\n\t\tpublic getTarget():object { return this.target; }\r\n\t\tprivate target:object;\r\n\r\n\t\tpublic getData():any { return this.data; }\r\n\t\tpublic setData(data:any):void { this.data = data; }\r\n\t\tprivate data:any;\r\n\t}\r\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport type EventListener = (event:Event) => void;\n\n\texport class EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:any = null) {\n\t\t\tthis.target = target || this;\n\t\t\tthis.listeners = {};\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addEventListener(eventType:string, listener:EventListener):void {\n\t\t\tif (typeof(listener) != \"function\") return;\n\t\t\tlet listeners:EventListener[] = this.listeners[eventType];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tif (listener == listeners[i]) return;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.listeners[eventType] = listeners = [];\n\t\t\t}\n\t\t\tlisteners.push(listener);\n\t\t}\n\n\t\tpublic removeEventListener(eventType:string, listener:EventListener):void {\n\t\t\tif (typeof(listener) != \"function\") return;\n\t\t\tlet listeners:EventListener[] = this.listeners[eventType];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tif (listener == listeners[i]) {\n\t\t\t\t\t\tlisteners.splice(i,  1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (listeners.length == 0) {\n\t\t\t\t\tdelete this.listeners[eventType];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic removeAllEventListener(eventType:string = null):void {\n\t\t\tif (eventType) {\n\t\t\t\tdelete this.listeners[eventType];\n\t\t\t} else {\n\t\t\t\tthis.listeners = {};\n\t\t\t}\n\t\t}\n\n\t\tpublic hasEventListener(eventType:string):boolean {\n\t\t\treturn this.listeners[eventType] != null;\n\t\t}\n\n\t\tpublic dispatchEvent(event:Event):void {\n\t\t\tlet listeners:EventListener[] = this.listeners[event.getType()];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tlisteners[i].call(this.target, event);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate target:any;\n\t\tprivate listeners:Hash<EventListener[]>;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Command extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(executeFunction:Function = null, interruptFunction:Function = null, destroyFunction:Function = null) {\n\t\t\tsuper();\n\n\t\t\tthis.setExecuteFunction(executeFunction);\n\t\t\tthis.setInterruptFunction(interruptFunction);\n\t\t\tthis.setDestroyFunction(destroyFunction);\n\n\t\t\tthis.state = CommandState.Sleeping;\n\t\t\tthis.self = this;\n\t\t\tthis.parent = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic execute():void {\n\t\t\tif (this.state > CommandState.Sleeping) {\n\t\t\t\tthrow new Error('[Command.execute] + Command is already executing.');\n\t\t\t}\n\t\t\tthis.state = CommandState.Executing;\n\t\t\tthis.getExecuteFunction().call(this, this);\n\t\t}\n\n\t\tpublic interrupt():void {\n\t\t\tif (this.state == CommandState.Executing) {\n\t\t\t\tthis.state = CommandState.Interrupting;\n\t\t\t\tthis.getInterruptFunction().call(this, this);\n\t\t\t}\n\t\t}\n\n\t\tpublic destroy():void {\n\t\t\tthis.state = CommandState.Sleeping;\n\t\t\tthis.getDestroyFunction().call(this, this);\n\t\t\tthis.parent = null;\n\t\t\tthis.executeFunction = null;\n\t\t\tthis.interruptFunction = null;\n\t\t\tthis.destroyFunction = null;\n\t\t}\n\n\t\tprotected notifyComplete():void {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase CommandState.Sleeping:\n\t\t\t\t\tbreak;\n\t\t\t\tcase CommandState.Executing:\n\t\t\t\t\tthis.dispatchEvent(new Event(Event.COMPLETE, this));\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\tbreak;\n\t\t\t\tcase CommandState.Interrupting:\n\t\t\t\t\tthis.dispatchEvent(new Event(Event.COMPLETE, this));\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.notifyComplete();\n\t\t}\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getExecuteFunction():Function { return this.executeFunction || this.implExecuteFunction };\n\t\tpublic setExecuteFunction(func:Function):void { this.executeFunction = func; }\n\t\tprivate executeFunction:Function;\n\n\t\tpublic getInterruptFunction():Function { return this.interruptFunction || this.implInterruptFunction };\n\t\tpublic setInterruptFunction(func:Function):void { this.interruptFunction = func; }\n\t\tprivate interruptFunction:Function;\n\n\t\tpublic getDestroyFunction():Function { return this.destroyFunction || this.implDestroyFunction };\n\t\tpublic setDestroyFunction(func:Function):void { this.destroyFunction = func; }\n\t\tprivate destroyFunction:Function;\n\n\t\tpublic getState():CommandState { return this.state; }\n\t\tprivate state:CommandState;\n\n\t\tpublic getParent():Command { return this.parent; }\n\t\tpublic setParent(parent:Command):void { this.parent = parent; }\n\t\tprivate parent:Command;\n\n\t\tpublic getSelf():Command { return this.self; }\n\t\tprivate self:Command;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport abstract class CommandList extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper();\n\t\t\tthis.commands = [];\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tif (commands.length > 0) {\n\t\t\t\tthis.preProcess(commands);\n\t\t\t\tthis.commands = this.getCommands().concat(<Command[]>commands);\n\t\t\t}\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommandAt(0, ...commands);\n\t\t}\n\n\t\tprotected insertCommandAt(index:number, ...commands:(Command|Function)[]):void {\n\t\t\tif (commands.length > 0) {\n\t\t\t\tthis.preProcess(commands);\n\t\t\t\tArray.prototype.splice.apply(this.getCommands(), (<any[]>[index, 0]).concat(commands));\n\t\t\t}\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommand(...commands);\n\t\t}\n\n\t\tprotected insertCommandArrayAt(index:number, commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommandAt(index, ...commands);\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.commands.length;\n\t\t}\n\n\t\tprivate preProcess(commands:(Command|Function)[]):void {\n\t\t\tconst numCommands:number = commands.length;\n\t\t\tlet command:Command|Function;\n\t\t\tfor (let i:number = 0; i < numCommands; ++i) {\n\t\t\t\tcommand = commands[i];\n\t\t\t\tif (typeof(command) == \"function\") command = new Func(command);\n\t\t\t\tcommand.setParent(this);\n\t\t\t}\n\t\t}\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\t\tprotected abstract implNotifyBreak():void;\n\t\tprotected abstract implNotifyReturn():void;\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected getCommandByIndex(index:number):Command { return this.commands[index]; }\n\t\tprotected getCommands():Command[] { return this.commands; }\n\t\tprivate commands:Command[];\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Break extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconst func:Function = this.getParent()[\"notifyBreak\"];\n\t\t\tif (func) func();\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Return extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconst func:Function = this.getParent()[\"notifyReturn\"];\n\t\t\tif (func) func();\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Log extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...messages:any[]) {\n\t\t\tsuper();\n\t\t\tthis.messages = messages;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconsole.log.apply(console, Array.prototype.slice.call(this.messages));\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.messages = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getMessages():any[] { return this.messages; }\n\t\tpublic setMessages(messages:any[]):void { this.messages = messages; }\n\t\tprivate messages:any[];\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Wait extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(time:number = 1000) {\n\t\t\tsuper();\n\t\t\tthis.time = time;\n\t\t\tthis.timerId = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.timerId = window.setTimeout(this.completeHandler, this.time);\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprivate cancel():void {\n\t\t\tif (this.timerId != -1) {\n\t\t\t\tclearTimeout(this.timerId);\n\t\t\t\tthis.timerId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getTime():number { return this.time; }\n\t\tpublic setTime(time:number):void { this.time = time; }\n\t\tprivate time:number;\n\n\t\tprivate timerId:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Func extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(func:Function = null, args:any[] = [], eventDispatcher:EventDispatcher = null, eventType:string = null) {\n\t\t\tsuper();\n\t\t\tthis.func = func;\n\t\t\tthis.args = args;\n\t\t\tthis.eventDispatcher = eventDispatcher;\n\t\t\tthis.eventType = eventType;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.addEventListener(this.eventType, this.completeHandler);\n\t\t\t\tthis.func(...this.args);\n\t\t\t} else {\n\t\t\t\tthis.func(...this.args);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\n\t\t\tthis.func = null;\n\t\t\tthis.args = null;\n\t\t\tthis.eventDispatcher = null;\n\t\t\tthis.eventType = null;\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getFunction():Function { return this.func; }\n\t\tpublic setFunction(func:Function):void { this.func = func; }\n\t\tprivate func:Function;\n\n\t\tpublic getArguments():any[] { return this.args; }\n\t\tpublic setArguments(args:any[]):void { this.args = args; }\n\t\tprivate args:any[];\n\n\t\tpublic getEventDispatcher():EventDispatcher { return this.eventDispatcher; }\n\t\tpublic setEventDispatcher(eventDispatcher:EventDispatcher):void { this.eventDispatcher = eventDispatcher; }\n\t\tprivate eventDispatcher:EventDispatcher;\n\n\t\tpublic getEventType():string { return this.eventType; }\n\t\tpublic setEventType(eventType:string):void { this.eventType = eventType; }\n\t\tprivate eventType:string;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Listen extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventDispatcher:EventDispatcher = null, eventType:string = null) {\n\t\t\tsuper();\n\t\t\tthis.eventDispatcher = eventDispatcher;\n\t\t\tthis.eventType = eventType;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.addEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\n\t\t\tthis.eventType = null;\n\t\t\tthis.eventDispatcher = null;\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getEventDispatcher():EventDispatcher { return this.eventDispatcher; }\n\t\tpublic setEventDispatcher(eventDispatcher:EventDispatcher):void { this.eventDispatcher = eventDispatcher; }\n\t\tprivate eventDispatcher:EventDispatcher;\n\n\t\tpublic getEventType():string { return this.eventType; }\n\t\tpublic setEventType(eventType:string):void { this.eventType = eventType; }\n\t\tprivate eventType:string;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport type TweenCallbackFunction = (progressTime:number, progressValue:number) => void;\n\n\texport class Tween extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:object, to:object, from:object = null, duration:number = 1000, easing:EasingFunction = Easing.linear, onStart:TweenCallbackFunction = null, onUpdate:TweenCallbackFunction = null, onComplete:TweenCallbackFunction = null) {\n\t\t\tsuper();\n\t\t\tthis.tweenTarget = target;\n\t\t\tthis.to = to;\n\t\t\tthis.from = from;\n\t\t\tthis.duration = duration;\n\t\t\tthis.easing = easing;\n\t\t\tthis.onStart = onStart;\n\t\t\tthis.onUpdate = onUpdate;\n\t\t\tthis.onComplete = onComplete;\n\t\t\tthis.progressTime = 0;\n\t\t\tthis.progressValue = 0;\n\t\t\tthis.startTime = 0;\n\t\t\tthis.timerId = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.internalFrom = {};\n\t\t\tlet value0:number;\n\t\t\tlet value1:number;\n\t\t\tfor (let key in this.to) {\n\t\t\t\tvalue1 = this.to[key];\n\t\t\t\tif (this.from && this.from[key] != null) {\n\t\t\t\t\tthis.internalFrom[key] = this.from[key];\n\t\t\t\t} else {\n\t\t\t\t\tthis.internalFrom[key] = this.tweenTarget[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.duration > 0) {\n\t\t\t\tthis.timerId = window.setInterval(this.intervalHandler, Tween.updateInterval);\n\t\t\t\tthis.startTime = new Date().getTime();\n\t\t\t\tthis.apply(0);\n\t\t\t\tif (this.onStart) this.onStart(this.progressTime, this.progressValue);\n\t\t\t} else {\n\t\t\t\tthis.apply(0);\n\t\t\t\tif (this.onStart) this.onStart(this.progressTime, this.progressValue);\n\t\t\t\tthis.apply(1);\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t\tif (this.onComplete) this.onComplete(this.progressTime, this.progressValue);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.cancel();\n\n\t\t\tthis.tweenTarget = null;\n\t\t\tthis.to = null;\n\t\t\tthis.from = null;\n\t\t\tthis.easing = null;\n\t\t\tthis.onStart = null;\n\t\t\tthis.onUpdate = null;\n\t\t\tthis.onComplete = null;\n\t\t\tthis.internalFrom = null;\n\t\t}\n\n\t\tprivate cancel():void {\n\t\t\tif (this.timerId != -1) {\n\t\t\t\tclearInterval(this.timerId);\n\t\t\t\tthis.timerId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate apply(timeRatio:number):void {\n\t\t\tthis.progressTime = timeRatio;\n\t\t\tthis.progressValue = this.easing(0, this.progressTime, 0, 1, 1);\n\t\t\tlet value0:number;\n\t\t\tfor (let key in this.to) {\n\t\t\t\tvalue0 = this.internalFrom[key];\n\t\t\t\tthis.tweenTarget[key] = value0 + (this.to[key] - value0) * this.progressValue;\n\t\t\t}\n\t\t}\n\n\t\tprivate intervalHandler = ():void => {\n\t\t\tconst elapsedTime:number = new Date().getTime() - this.startTime;\n\t\t\tif (elapsedTime < this.duration) {\n\t\t\t\tthis.apply(elapsedTime / this.duration);\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t} else {\n\t\t\t\tthis.apply(1);\n\t\t\t\tthis.cancel();\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t\tif (this.onComplete) this.onComplete(this.progressTime, this.progressValue);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getTarget():object { return this.tweenTarget; }\n\t\tpublic setTarget(target:object):void { this.tweenTarget = target; }\n\t\tprivate tweenTarget:object;\n\n\t\tpublic getDuration():number { return this.duration; }\n\t\tpublic setDuration(duration:number):void { this.duration = duration; }\n\t\tprivate duration:number;\n\n\t\tpublic getTo():object { return this.to; }\n\t\tpublic setTo(to:object):void { this.to = to; }\n\t\tprivate to:object;\n\n\t\tpublic getFrom():object { return this.from; }\n\t\tpublic setFrom(from:object):void { this.from = from; }\n\t\tprivate from:object;\n\n\t\tpublic getEasing():EasingFunction { return this.easing; }\n\t\tpublic setEasing(easing:EasingFunction):void { this.easing = easing; }\n\t\tprivate easing:EasingFunction;\n\n\t\tpublic getOnStart():TweenCallbackFunction { return this.onStart; }\n\t\tpublic setOnStart(func:TweenCallbackFunction):void { this.onStart = func; }\n\t\tprivate onStart:TweenCallbackFunction;\n\n\t\tpublic getOnUpdate():TweenCallbackFunction { return this.onUpdate; }\n\t\tpublic setOnUpdate(func:TweenCallbackFunction):void { this.onUpdate = func; }\n\t\tprivate onUpdate:TweenCallbackFunction;\n\n\t\tpublic getOnComplete():TweenCallbackFunction { return this.onComplete; }\n\t\tpublic setOnComplete(func:TweenCallbackFunction):void { this.onComplete = func; }\n\t\tprivate onComplete:TweenCallbackFunction;\n\n\t\tpublic getProgressTime():number { return this.progressTime; }\n\t\tprivate progressTime:number;\n\n\t\tpublic getProgressValue():number { return this.progressValue; }\n\t\tprivate progressValue:number;\n\n\t\tprivate startTime:number;\n\t\tprivate timerId:number;\n\t\tprivate internalFrom:Object;\n\n\t\tpublic getUpdateInterval():number { return Tween.updateInterval; }\n\t\tpublic setUpdateInterval(milliseconds:number):void { Tween.updateInterval = milliseconds; }\n\t\tprivate static updateInterval:number = 1000 / 60;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Serial extends CommandList {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper(...commands);\n\t\t\tthis.currentCommand = null;\n\t\t\tthis.position = -1;\n\t\t\tthis.isPaused = false;\n\t\t\tthis.isCompleteOnPaused = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.insertCommandAt(this.position + 1, ...commands);\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommand(...commands);\n\t\t}\n\n\t\tprivate next():void {\n\t\t\tthis.currentCommand = this.getCommandByIndex(this.position);\n\t\t\tthis.currentCommand.addEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\tthis.currentCommand.execute();\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.currentCommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\tthis.currentCommand = null;\n\t\t\tif (++this.position >= this.getLength()) {\n\t\t\t\tthis.notifyComplete();\n\t\t\t} else {\n\t\t\t\tthis.next();\n\t\t\t}\n\t\t};\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.position = 0;\n\t\t\tif (this.getLength() > 0) {\n\t\t\t\tthis.next();\n\t\t\t} else {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.currentCommand) {\n\t\t\t\tthis.currentCommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t\tthis.currentCommand = null;\n\t\t\t}\n\t\t\tthis.position = -1;\n\t\t\tsuper.implInterruptFunction(command);\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.currentCommand) {\n\t\t\t\tthis.currentCommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.destroy();\n\t\t\t\tthis.currentCommand = null;\n\t\t\t}\n\t\t\tthis.position = -1;\n\t\t\tthis.isPaused = false;\n\t\t\tthis.isCompleteOnPaused = false;\n\t\t\tsuper.implDestroyFunction(command);\n\t\t}\n\n\t\tprotected implNotifyBreak():void {\n\t\t\tif (this.currentCommand.getState() == CommandState.Executing) {\n\t\t\t\tthis.currentCommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t}\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implNotifyReturn():void {\n\t\t\tif (this.currentCommand.getState() == CommandState.Executing) {\n\t\t\t\tthis.currentCommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t}\n\t\t\tconst func:Function = this.getParent()[\"notifyReturn\"];\n\t\t\tif (func) func();\n\t\t\tthis.destroy();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected getPosition():number { return this.position; }\n\t\tprivate position:number;\n\n\t\tprivate currentCommand:Command;\n\t\tprivate isPaused:boolean;\n\t\tprivate isCompleteOnPaused:boolean;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace cmd {\n\n\texport class Parallel extends CommandList {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper(...commands);\n\t\t\tthis.completeCount = 0;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tif (++this.completeCount >= this.getLength()) {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t};\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.completeCount = 0;\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.addEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.execute();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.interrupt();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsuper.implInterruptFunction(command);\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsuper.implDestroyFunction(command);\n\t\t}\n\n\t\tprotected implNotifyBreak():void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tif (command.getState() == CommandState.Executing) {\n\t\t\t\t\t\tcommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\t\t\tcommand.interrupt();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implNotifyReturn():void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tif (command.getState() == CommandState.Executing) {\n\t\t\t\t\t\tcommand.removeEventListener(Event.COMPLETE, this.completeHandler);\n\t\t\t\t\t\tcommand.interrupt();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst func:Function = this.getParent()[\"notifyReturn\"];\n\t\t\tif (func) func();\n\t\t\tthis.destroy();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected getCompleteCount():number { return this.completeCount; }\n\t\tprivate completeCount:number;\n\n\t\tprivate currentCommand:Command;\n\t\tprivate isPaused:boolean;\n\t\tprivate isCompleteOnPaused:boolean;\n\t}\n}"]}